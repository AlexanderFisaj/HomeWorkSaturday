# HomeWorkSaturday

## Работа с удалёнными репозиториями

Удаленный репозиторий – это версии проекта, сохраненные на удаленном сервере, доступ к репозиторию которых осуществлятется по интернету или по локальной сети. Это полноценный репозиторий, ничем не отличающийся от локального. У удаленного репозитория есть собственные ветки, собственный указатель HEAD, своя история коммитов и так далее.

Удалённых репозиториев может быть несколько, каждый из которых может быть доступен для чтения или для чтения-записи. Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них. 

Управление репозиториями включает в себя:
* умение добавлять новые репозитории
* умение удалять устаревшие репозитории
* умение управлять различными удалёнными ветками, объявлять их отслеживаемыми или нет
* и так далее.

Подключив удаленный репозиторий к своему локальному, на локальном компьютере появятся копии всех ссылочных объектов удаленного репозитория. То есть, н-р, у удаленного репозитория есть ветка main, а у локального (на компьютере) будет копия этой ветки – origin/main.


## Клонирование удаленного репозитория

Необходимость клонировать существующий удаленный репозиторий возникает в ситуациях, когда нужно поработать над уже существующим кодом. Для создания копии репозитория со всем его содержимым в Git предусмотрена команда:

<code> git clone <ссылка на удаленный репозиторий> </code>

Например:

<code> git clone https://github.com/AlexanderFisaj/HomeWorkSaturday.git </code>


## Просмотр удалённых репозиториев

Просмотреть список настроенных удалённых репозиториев можно запустив команду git remote. Она выведет названия доступных удалённых репозиториев. Если репозиторий клонировали, то будет видно как минимум origin — имя по умолчанию, которое Git даёт серверу, с которого производилось клонирование.

<code> git remote</code>


## Добавление удалённых репозиториев

Чтобы добавить удалённый репозиторий и присвоить ему имя (myremoterepo), нужно выполнить команду:
<code> git remote add <myremoterepo> <url>:</code>


### Получение изменений из удалённого репозитория 

<code> git fetch [remote-name] </code>

Данная команда связывается с указанным удалённым проектом и забирает все те данные проекта, которых ещё нет в локальном репозитории. После выполнения команды должны появиться ссылки на все ветки из этого удалённого проекта, которые можно просмотреть или слить в любой момент.

> При клонировании репозитория, команда clone автоматически добавляет этот удалённый репозиторий под именем «origin». Таким образом, git fetch origin извлекает все наработки, отправленные на этот сервер после клонирования (или получения изменений с помощью fetch). 

> Важно отметить, что команда git fetch забирает данные в локальный репозиторий, но не сливает их с какими-либо наработками и не модифицирует то, над чем происходит работа в данный момент. Необходимо вручную слить удаленные данные с локальными, когда появится необходимость.

Если ветка настроена на отслеживание удалённой ветки, то можно использовать команду git pull чтобы автоматически получить изменения из удалённой ветки и слить их со своей текущей. По умолчанию команда git clone автоматически настраивает локальную ветку master на отслеживание удалённой ветки master на сервере, с которого клонировали репозиторий. Название веток может быть другим и зависит от ветки по умолчанию на сервере. 

> Выполнение git pull, как правило, извлекает (fetch) данные с сервера, с которого изначально клонировали, и автоматически пытается слить (merge) их с кодом, над которым в данный момент происходит работаета.


## Отправка изменений в удаленный репозиторий

Чтобы поделиться своими наработками, необходимо отправить их в удалённый репозиторий командой:

<code> git push <remote-name> <branch-name></code>

Например, чтобы отправить ветку **master** на сервер **origin**, нужно выполнить команду для отправки локальных коммитов:

<code>git push origin master</code>

> Команда срабатывает только в случае, если клонировали с сервера, на котором у есть права на запись, и если никто другой с тех пор не выполнял команду push.

>Если несколько участников проекта одновременно клонируют удаленный репозиторий, затем один из них выполняет команду push, а после него выполнить команду push попытаетесь второй, то push второго точно будет отклонён. Придётся сначала получить изменения и объединить их с локальными (второго участника) и только после этого будет позволено выполнить push.


## Просмотр удаленного репозитория

Что бы получить больше информации об одном из удалённых репозиториев, можно использовать команду:

<code> git remote show <remote> </code>.

Например, выполнив эту команду с именем origin:

<code> git remote show <remote> </code>.

выдаёт URL удалённого репозитория, а также информацию об отслеживаемых ветках. 
Команда сообщит, например, что если вы, находясь на ветке master, выполните git pull, ветка master с удалённого сервера будет автоматически влита в вашу сразу после получения всех необходимых данных. Она также выдаёт список всех полученных ею ссылок.


## Удаление и переименование удалённых репозиториев

Для переименования удалённого репозитория можно выполнить:

<code> git remote rename</code>

Например, если нужно переименовать branch1 в branch2:

<code>git remote rename branch1 branch2</code>

Для удаления удаленного репозитория вводится:

<code>git remote rm:</code>

Например:
<code>git remote remove branch2</code>

> При удалении ссылки на удалённый репозиторий все отслеживаемые ветки и настройки, связанные с этим репозиторием, так же будут удалены.


## Создание форка репозитория на GitHub. Пулл-реквесты

Одной из самых важных частей GitHub является создание форков.

> **Форк** _(от англ. fork – вилка)_ – точная копия репозитория, но в вашем аккаунте. Форки нужны, чтобы вносить свои изменения в проект, к репозиторию которого у вас нет прямого доступа.

> **Пулл-реквест** _(от англ. pull-request – запрос pull)_ – функция GitHub, позволяющая попросить владельца репозитория, от которого мы сделали форк, загрузить наши изменения обратно в свой репозиторий.

Если коротко, форки и пулл-реквесты нужны, чтобы любой пользователь мог внести свой вклад в любой открытый проект, репозиторий которого есть на GitHub. Кроме того, перед тем как влить ваши изменения в основной репозиторий, ответственные обязательно проверят ваш код на наличие ошибок и уязвимостей. Таким образом, даже если ваши изменения не примут, вы получите первоклассный code-review с указанием всех неточностей.

Теперь давайте рассмотрим пайплайн контрибуции (англ. contribution – внесение вклада) на примере реального репозитория. То есть научимся вносить свой вклад в разработку проектов с открытым исходным кодом на GitHub.

1. Для начала зайдем на страницу репозитория проекта. Нажимаем на кнопку **Fork**. После этого Git создаст точную копию этого репозитория в вашем аккаунте.

2. Клонируем репозиторий к себе на компьютер командой _git clone_. Создадим файл **README.md** с описанием проекта, чтобы другим пользователям было понятно, в чем отличие этой реализации от остальных.

3. Сделаем коммит и выполним _git push_, чтобы загрузить наши изменения в удаленный репозиторий.

4. Теперь **GitHub** подсказывает нам, что наша ветка опережает ветку исходного репозитория на один коммит и предлагает сделать **пулл-реквест**.

5. Нажимаем на кнопку **Compare** на подсказке **GitHub**, либо переходим на вкладку **Pull Requests** и нажимаем **New pull request**.

6. Перед нами откроется страница создания пулл-реквеста.

> Здесь мы можем просмотреть внесенные изменения и выбрать две ветки: одну в исходном репозитории, на нее будут залиты наши изменения, вторую – в нашем репозитории, с нее будут скачаны изменения. Как только мы выбрали ветки и убедились, что не внесли никаких лишних изменений, нажимаем кнопку **Create pull request**.

7. Теперь мы попадаем на страницу описания наших изменений.

> Здесь необходимо описать, что за изменения вы внесли и почему они были необходимы. Опсание отражает суть и необходимость внесенных изменений. Как только мы закончили с описанием, можно нажимать кнопку **Create pull request**.

8. Теперь мы попадаем на страницу уже созданного пулл-реквеста в изначальном репозитоии. 

> Именно так будет выглядеть наш пулл-реквест и для владельца репозитория. На этой странице он сможет писать комментарии, указывая на ошибки или задавая вопросы. После того, как владелец репозитория просмотрит наши изменения и убедится, что они не имеют вредоносный характер, он сможет принять наш пулл-реквест. Тогда все изменения, добавленные в этот пулл-реквест нами, будут залиты в исходный репозиторий.